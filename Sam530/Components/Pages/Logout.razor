@page "/logout"
@rendermode InteractiveServer
@using Sam530.Services

@inject NavigationManager Navigation
@inject UserSessionService Session

<h3>Saliendo...</h3>

@code {
    private bool _done = false;

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender && !_done)
        {
            await Session.LogoutAsync();
            _done = true;
            Navigation.NavigateTo("/login");
        }
    }
}
